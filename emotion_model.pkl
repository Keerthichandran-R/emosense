import os
import joblib
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB

# Sample data
texts = ["I am happy", "I feel sad", "I am excited", "I am angry"]
labels = ["happy", "sad", "happy", "angry"]

# Train a simple model
vectorizer = CountVectorizer()
X = vectorizer.fit_transform(texts)
model = MultinomialNB()
model.fit(X, labels)

# ✅ Create folder BEFORE saving
os.makedirs("models", exist_ok=True)

# Save model and vectorizer together
joblib.dump((model, vectorizer), "models/emotion_model.pkl")
print("✅ Model saved successfully.")
